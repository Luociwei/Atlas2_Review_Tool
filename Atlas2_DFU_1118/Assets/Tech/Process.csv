TestName,TestActions,Disable,Input,Output,Timeout,Retries,AdditionalParameters,ExitEarly,SetPoison,Commands,FA,Condition,Notes
enableSampling,M:forceEnableSampling,,,,,,,,,,,,
CB_Start,Tech:setRTC,,,,,,"{""subsubtestname"": ""Set_RTC_Start"",""mark"":""1"",""timeout"":""2""}",,,,,,
,Tech:startCB,,,,,,"{""subsubtestname"": ""Start_Process_Control"",""dutPluginName"":""dut""}",,,,,,
CB_Finish,Tech:finishCB,,,,,,"{""subsubtestname"": ""Finish_Process_Control"",""dutPluginName"":""dut""}",,,,,,
Transition_Diags_DeadBattery2V5,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_DISCONNECT"",""netname"":""VDM_CC1"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Tech:forceDFUDischarge,,,,,,"{""subsubtestname"":""FORCE_DFU_SET_Discharge"",""record"":""NO""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""UUT_UART_ENABLE"",""record"":""NO""}",,,uart_set.pin_contrl(UUT*enable),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Bellatrix_UART_ENABLE"",""record"":""NO""}",,,uart_set.pin_contrl(SBELLATRIX*enable),,,
,Tech:setDFUCondition,,,,,,"{""subsubtestname"":""VBAT_SET_2V5"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""UVP_Enable"",""netname"":""UVP_EN"",""state"":""CONNECT"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_200MS_2"",""delay"":""200"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PP5V0_TO_VDM_BOARD"",""netname"":""PP_5V0_VDM"",""state"":""CONNECT"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_LDO_PP_5V0_ON"",""powertype"":""PP5V0"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_2"",""delay"":""1000"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1_1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1500MS_1"",""delay"":""1500"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"":""Start_Dock"",""port"":""31336"",""record"":""NO""}",,,restart_dc_manager-pl,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"":""Enable_DC"",""port"":""31336"",""record"":""NO""}",,,enable_dc,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_1"",""delay"":""1000"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"":""Enalble_ADVDM"",""port"":""31336"",""record"":""NO""}",,,enable_advdm,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_2000MS_1"",""delay"":""2000"",""record"":""NO""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""PD_Contract_Check_9V"",""pattern"":""Min%s+Voltage%s+or%s+Power%s+(%w+)%s+mV"",""reference"": ""9000"",""fa_sof"":""YES""}",,,vdm.show_tps_register_by_addr(0x34),FA_ResetAll,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_DEBUG_1"",""netname"":""PPVBUS_USB_EMI"",""unit"":""mV"",""mode"":""Retry""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PP3V3_ACE_LDO_IBoot"",""netname"":""PP3V3_ACE_LDO""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PP3V3_S2_ACE_PARROT"",""netname"":""PP3V3_S2_ACE_PARROT""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_5"",""delay"":""1000"",""record"":""NO""}",,,,,,
,Tech:detectDCConnected,,,,,,"{""subsubtestname"":""Dock_Connect_Detect"",""record"":""NO""}",,,,,,
,Tech:detectENV,,,,,,"{""subsubtestname"":""DIAGS_ENTER""}",,,diags,FA_ResetAll,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"":""Diags_Version"",""attribute"":""DIAGS_VERSION_FCT"",""pattern"": ""Version%s*%-%s*(.-)[\r\n]""}",,,version,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATTERY_Voltage_FB"",""netname"":""PPBATT_VCC""}",,,,,,
CB,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""FCT_CB_Check"",""pattern"": ""0x01%s*(%w*)""}",,,cbread 0x01 quiet,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""DFU_CB_Check"",""pattern"": ""0x00%s*(Passed)""}",,,cbread 0x00,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""ICT_CB_Check"",""pattern"": ""0x0A%s*(Passed)""}",,,cbread 0x0A,,,
Transition_Diags_VBAT4V3,Common:powerSupply,,,,,,"{""subsubtestname"":""VBAT_SET_4V3"",""powertype"":""BATT""}",,,4300,FA_ResetAll,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPBATT_VCC_FB"",""netname"":""PPBATT_VCC""}",,,,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""Disable_SMC"",""pattern"": ""OK"",""record"":""NO""}",,,smc write BMSQ 1 0 0 0,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""Syscfg_init"",""pattern"": ""Finish"",""record"":""NO""}",,,syscfg init,,,
Transition_Diags_VBAT4V3_1,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_DISCONNECT_1"",""netname"":""VDM_CC1"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Change_PDO_Count_TO_5"",""record"":""NO""}",,,vdm.change_low_hearder(region0),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Change_VDM_PDO_TO_4"",""record"":""NO""}",,,vdm.change_source_pdo_count(4),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""5V_To_VDM_EXT"",""record"":""NO""}",,,vdm.change_tx_source_voltage(1*5000*3500*PP_HVE),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""5V_To_VDM_EXT_2"",""record"":""NO""}",,,vdm.change_tx_source_voltage(2*5000*3500*PP_HVE),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""5V_To_VDM_EXT_3"",""record"":""NO""}",,,vdm.change_tx_source_voltage(3*5000*3500*PP_HVE),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""5V_To_VDM_EXT_4"",""record"":""NO""}",,,vdm.change_tx_source_voltage(4*5000*3500*PP_HVE),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Disable_USB_cable"",""record"":""NO""}",,,vdm.tps_write_register_by_addr(0x32*PDO1: Max Voltage*0x02),,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PP5V0_TO_VDM_BOARD_DISCONNECT"",""netname"":""PP_5V0_VDM"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_LDO_PP_5V0_0V"",""powertype"":""PP5V0"",""record"":""NO""}",,,1221,FA_ResetAll,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_to_5V"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1_2"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_6"",""delay"":""1000"",""record"":""NO""}",,,,,,
,Tech:detectDCConnected,,,,,,"{""subsubtestname"":""Dock_Connect_Detect_1"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""GPIO_POTOMAC_TO_PMU_WAKE_1V8_LOW"",""pattern"": ""0x1808%s*%=%>%s*0x(%x)%x"",""parametric"": ""yes""}",,,reg read 0x1808,,,
,Common:checkVBUSWithoutFB,,,,,,"{""subsubtestname"":""PPVBUS_FB_DEBUG_2"",""netname"":""PPVBUS_USB_EMI"",""unit"":""mV"",""reference"": ""5000"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""ACE_ready"",""record"":""NO""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""PD_State_Check"",""record"":""NO""}",,,charge --brickid;sep --init,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""Get_PerfState"",""pattern"": ""Cpu State%s*:(%d+)"",""parametric"": ""yes""}",,,soc -p get-perf-state,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""Enter_Test_Mode_Sera"",""record"":""NO""}",,,reg select pmu;reg write 0x3100 0x61 0x45 0x72 0x4F,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""Write_Reg_0x6862"",""record"":""NO""}",,,reg write 0x6862 0x0C,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""Read_Reg_0x6862"",""pattern"": ""0x6862%s*%=%>%s*(0x%x%x)""}",,,reg read 0x6862 1,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""Exit_Test_Mode_Sera"",""record"":""NO""}",,,reg write 0x3104 0xFF,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""Read_Reg_0x6862_1"",""pattern"": ""0x6862%s*%=%>%s*(0x%x%x)""}",,,reg read 0x6862 1,,,
Transition_Diags_WakeUp_VBAT4V3_VBUS5V,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_4V3"",""powertype"":""BATT"",""record"":""NO""}",,,4300,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_POWER_ON"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""ON"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""Power_To_VDM"",""netname"":""PPVBUS_USB_PWR"",""state"":""TO_PP_EXT"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_EMI_VDM"",""netname"":""VDM_VBUS_TO_PPVBUS_USB_EMI"",""state"":""CONNECT"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_Vbus_5V"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_1"",""delay"":""1000"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""Diags_Version"",""mark"":""1"",""timeout"":""2"",""record"":""NO""}",,,version,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Read_Reg_0x6862"",""pattern"": ""0x6862%s*%=%>%s*(0x%x%x)""}",,,reg read 0x6862 1,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPBATT_VCC_FB"",""netname"":""PPBATT_VCC"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""ACE_PICK_USBC"",""record"":""NO""}",,,ace --pick usbc,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""RECONFIRM_FINAL_CRC_CHECK"",""pattern"": ""RxData%s*%(4.%).-%:.-0x0000%s*%:%s*(0x%w+%s+0x%w+%s+0x%w+%s+0x%w+)"",""attribute"": ""USBC_OTP_Program_CRC_FCT""}",,,"ace --4cc OTPr --txdata ""0x80"" --rxdata 4",,production_mode==dev_fuse_mode,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""RECONFIRM_FINAL_CRC_prod_fuse_CHECK"",""pattern"": ""RxData%s*%(4.%).-%:.-0x0000%s*%:%s*(0x%w+%s+0x%w+%s+0x%w+%s+0x%w+)"",""attribute"": ""USBC_OTP_Program_CRC_FCT""}",,,"ace --4cc OTPr --txdata ""0x80"" --rxdata 4",,production_mode==prod_fuse_mode,
,Tech:renterdiags,Y,,,,,"{""subsubtestname"":""ReEnterDiags"",""record"":""NO""}",,,reset,,,
,Common:sendCmdAndParse,Y,,,,,"{""subsubtestname"":""Disable_SMC"",""record"":""NO""}",,,smc write BMSQ 1 0 0 0,,,
,Common:sendCmdAndParse,Y,,,,,"{""subsubtestname"":""PD_State_Check"",""record"":""NO""}",,,charge --brickid;sep --init,,,
