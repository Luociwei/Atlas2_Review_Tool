TestName,TestActions,Disable,Input,Output,Timeout,Retries,AdditionalParameters,ExitEarly,SetPoison,Commands,FA,Condition,Notes
Info_Potomac,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""OTP_Revision"",""pattern"": ""Data:%s*(0x%x*)"",""attribute"": ""Charger_Potomac_OTP_Revision""}",,,i2c -z 2 -d 7 0x75 0x1101 1,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""Platform_ID"",""pattern"": ""Data:%s*(0x%x*)"",""attribute"": ""Charger_Potomac_Platform_ID""}",,,i2c -z 2 -d 7 0x75 0x1102 1,,,
,Common:sendCmdAndParseWithDC,,,,,,"{""subsubtestname"": ""Device_ID"",""pattern"": ""Data:%s*(0x%x*%s*0x%x*%s*0x%x*%s*0x%x*%s*0x%x*)"",""attribute"": ""Charger_Potomac_Device_ID""}",,,i2c -z 2 -d 7 0x75 0x1104 5,,,
BatteryChargeStatus_VBUS5V,Common:sendCmdAndParse,,,[charge_status],,,"{""subsubtestname"": ""Read"",""record"":""NO""}",,,charge --status,,,
BrickConnectStatus_VBUS5V,Common:parseWithRegexString,,[charge_status],,,,"{""subsubtestname"": ""Connected"",""pattern"": ""Charger%s*connected%s*:%s*(%d*)"",""parametric"": ""yes""}",,,,,,
BatteryTemperatureSense_Normal,Common:delay,,,,,,"{""subsubtestname"":""Delay_1000MS"",""delay"":""1000"",""record"":""NO""}",,,,,,
,Tech:blank,Y,,,,,"{""subsubtestname"":""Blank"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""NTC_10K"",""netname"":""BATT_NTC"",""state"":""TO_10K_NORMAL"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100MS"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Read_POTOMAC_TBAT"",""pattern"": ""tbat:%s+([+-]?%d+%.?%d+)%s+C"",""parametric"": ""yes"",""mark"": ""1"",""timeout"": ""2""}",,,pmuadc --sel potomac --read tbat,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Read_NTC_Status_flag"",""pattern"": ""Data%s*:%s*(0x%x+)""}",,,i2c -z 2 -d 0x07 0x75 0x1420 1,,,
BatteryTemperatureSense_Hot,Common:relaySwitch,,,,,,"{""subsubtestname"":""NTC_3K3"",""netname"":""BATT_NTC"",""state"":""TO_3K3_HOT"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100MS_1"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Read_POTOMAC_TBAT"",""pattern"": ""tbat:%s+([+-]?%d+%.?%d+)%s+C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read tbat,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Read_NTC_Status_flag"",""pattern"": ""Data%s*:%s*(0x%x+)""}",,,i2c -z 2 -d 0x07 0x75 0x1420 1,,,
BatteryTemperatureSense_Cold,Common:relaySwitch,,,,,,"{""subsubtestname"":""NTC_33K"",""netname"":""BATT_NTC"",""state"":""TO_33K_COLD"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100MS_2"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Read_POTOMAC_TBAT"",""pattern"": ""tbat:%s+([+-]?%d+%.?%d+)%s+C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read tbat,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Read_NTC_Status_flag"",""pattern"": ""Data%s*:%s*(0x%x+)""}",,,i2c -z 2 -d 0x07 0x75 0x1420 1,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""BATT_NTC_Dis"",""netname"":""BATT_NTC"",""state"":""FLOAT"",""record"":""NO""}",,,,,,
BatteryTemperatureSense_Normal_1,Common:relaySwitch,,,,,,"{""subsubtestname"":""Reconnect_NTC_10K"",""netname"":""BATT_NTC"",""state"":""TO_10K_NORMAL"",""record"":""NO""}",,,,,,
TrickleCharge_VBAT2V8_VBUS5V,Common:powerSupply,,,,,,"{""subsubtestname"":""VBUS_to_5V"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_2.8v"",""powertype"":""batt"",""start"":""3500"",""stop"":""2800"",""step"":""200"",""record"":""NO""}",,,,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_200MS"",""delay"":""200"",""record"":""NO""}",,,,,,
,Tech:sendChargeCmd,,,{charge_cmd},,,"{""subsubtestname"": ""USB_ilimit_3000mA_5V"",""record"":""NO""}",,,charge --setma 3000 --setmv 5000,,,
,Common:connectVBUSFeedback,,,,,,"{""subsubtestname"": ""PPVBUS_FB_CONNECT_Precharge"",""reference"": ""5000"",""record"":""NO""}",,,,,charge_cmd==charge_pass,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS"",""reference"": ""5000""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_Current"",""netname"":""BATT_CURRENT_BIG"",""unit"": ""mA""}",,,,,,
TrickleCharge_VBAT3V2_VBUS5V,Common:powerSupply,,,,,,"{""subsubtestname"":""SET_VBAT_3.2v"",""powertype"":""batt"",""start"":""2800"",""stop"":""3200"",""step"":""80"",""record"":""NO""}",,,,FA_ResetAll,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS"",""netname"":""PPVCC_MAIN""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_HIGH"",""netname"":""PPVCC_HIGH""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""IBAT_VBAT_3.2V"",""netname"":""BATT_CURRENT_BIG"",""unit"": ""mA""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100MS"",""delay"":""100"",""record"":""NO""}",,,,,,
ChargeModeThreshold_VBUS5V_IBATT2000mA,Tech:chargeTest,,,[chg_result],,,"{""subsubtestname"":""VBATT_DIR_CHG"",""param1"":""test"",""start"":""3420"",""stop"":""4300"",""step"":""5""}",,,,,,
ChargeModeThreshold_VBUS5V,Tech:chargeTest,,[chg_result],,,,"{""subsubtestname"":""VHI_MIN"",""param1"":""res""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""SET_VBAT_3V7"",""powertype"":""batt"",""start"":""3200"",""stop"":""3700"",""step"":""80"",""record"":""NO""}",,,,FA_ResetAll,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_VBAT_3.7V"",""netname"":""PPVCC_MAIN""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_HIGH_VBAT_3.7V"",""netname"":""PPVCC_HIGH""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""SET_VBAT_3V9"",""powertype"":""batt"",""start"":""3600"",""stop"":""3900"",""step"":""80"",""record"":""NO""}",,,,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_500MS_1"",""delay"":""500"",""record"":""NO""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_VBAT_3.9V"",""netname"":""PPVCC_MAIN""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_HIGH_VBAT_3.9V"",""netname"":""PPVCC_HIGH""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""USB_ilimit_1000mA_5V"",""record"":""NO""}",,,charge --setma 1000 --setmv 5000,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_500MS_2"",""delay"":""500"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""SET_VBAT_4V3"",""powertype"":""batt"",""start"":""3900"",""stop"":""4300"",""step"":""80"",""record"":""NO""}",,,,FA_ResetAll,,
StopCharge_VBUS5V,Common:powerSupply,,,,,,"{""subsubtestname"":""SET_VBAT_4V3"",""powertype"":""batt"",""record"":""NO""}",,,4300,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Read_NTC_Status"",""pattern"": ""Data%s*:%s*(0x%x+)""}",,,i2c -z 2 -d 0x07 0x75 0x1420 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Read_TBAT"",""pattern"": ""tbat:%s+([+-]?%d+%.?%d+)%s+C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read tbat,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""VBAT"",""pattern"": ""vbat:%s*(.-)%s*mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vbat,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_500MS_1"",""delay"":""500"",""record"":""NO""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_SNS_Start"",""netname"":""BATT_SNS""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPBATT_VCC_FB_Start"",""netname"":""PPBATT_VCC""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""USB_ilimit_2000mA_5V"",""record"":""NO""}",,,charge --setma 2000 --setmv 5000,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_1000MS_1"",""delay"":""500"",""record"":""NO""}",,,,,,
,Tech:chargeTest,,,(result_current),,,"{""subsubtestname"":""VBAT_STOP_DIAGS"",""netname"":""BATT_CURRENT_BIG"",""param1"":""chargecurrent"",""start"":""4300"",""stop"":""4380"",""step"":""10"", ""pattern"":""([+-]?%d*%.%d*)%s*mV""}",,,pmuadc --sel potomac --read vbat,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_SNS_Stop"",""netname"":""BATT_SNS""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPBATT_VCC_FB_Stop"",""netname"":""PPBATT_VCC""}",,,,,,
,Tech:chargeTest,,(result_current),,,,"{""subsubtestname"":""BATT_Current"",""param1"":""res""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VBUS_FB_DISCONNECT"",""netname"":""PPVBUS_FB"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""V_Batt_Back_TO_4.3V"",""powertype"":""batt"",""record"":""NO""}",,,4300,FA_ResetAll,,
BatteryRechargeThreshold_VBUS5V,Common:relaySwitch,,,,,,"{""subsubtestname"":""CC_Disconn"",""netname"":""VDM_CC1"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""5V0_To_VDM_EXT"",""record"":""NO""}",,,vdm.change_tx_source_voltage(1*5000*3500*PP_HVE),,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""Power_To_VDM"",""netname"":""PPVBUS_USB_PWR"",""state"":""TO_PP_EXT"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_500MS_1"",""delay"":""500"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_4.35V"",""powertype"":""batt"",""record"":""NO""}",,,4350,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""USB_POWER_ON"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""ON"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_EMI_VDM"",""netname"":""VDM_VBUS_TO_PPVBUS_USB_EMI"",""state"":""CONNECT"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_10MS_3"",""delay"":""10"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""VBUS_to_5V"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_1"",""delay"":""1000"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ACE_SRDY"",""record"":""NO""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_500MS_2"",""delay"":""500"",""record"":""NO""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""PD_Contract_Check_5V"",""pattern"":""Min%s+Voltage%s+or%s+Power%s+(%w+)%s+mV"",""parametric"":""yes"",""reference"": ""5000""}",,,vdm.show_tps_register_by_addr(0x34),,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""PD_State_Check"",""record"":""NO""}",,,charge --brickid,,,
,Tech:sendChargeCmd,,,{charge_cmd},,,"{""subsubtestname"": ""USB_ilimit_5V_3A"",""record"":""NO""}",,,charge --setma 3000 --setmv 5000,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_2"",""delay"":""1000"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_5V_3000mA"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:connectVBUSFeedback,,,,,,"{""subsubtestname"": ""PPVBUS_FB_CONNECT_5V"",""reference"": ""5000"",""record"":""NO""}",,,,,charge_cmd==charge_pass,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS"",""reference"": ""5000""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""HCCM_SW_OFF_Set_0"",""record"":""NO""}",,,i2c -z 2 -v 7 0x75 0x1C19 0x00,,,
,Tech:reduceBattVoltage,,,,,,"{""subsubtestname"":""IBAT"",""start"":""4350"",""stop"":""4100"",""step"":""5"",""pattern"":""Data:%s*(0x%x*)"",""record"":""NO""}",,,i2c -z 2 -d 7 0x75 0x1514 1,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_SNS"",""netname"":""BATT_SNS""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPBATT_VCC_FB"",""netname"":""PPBATT_VCC""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_Current"",""netname"":""BATT_CURRENT_BIG""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""USB_ilimit_5V_100mA"",""record"":""NO""}",,,charge --force --setma 100 --setmv 5000,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""VBAT_set_to_4.3V"",""powertype"":""batt"",""record"":""NO""}",,,4300,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VBUS_FB_DISCONNECT"",""netname"":""PPVBUS_FB"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
Calibration_IbusLimit_PDSink_CVT_CC_VBAT3V8_VBUS5V,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_3.8V_1"",""powertype"":""batt"",""record"":""NO""}",,,3800,FA_ResetAll,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Disable_USB_cable"",""record"":""NO""}",,,vdm.tps_write_register_by_addr(0x32*PDO1: Max Voltage*0x02),,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Check_Default_0x1932"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x1932 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Disable_Potomac_buckboost"",""record"":""NO""}",,,i2c -z 2 -v 0x07 0x75 0x1932 0x1c,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:readVoltage,,,[system_current],,,"{""subsubtestname"":""BATT_CURRENT_Efficiency_Debug"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Set_Default_0x1932"",""record"":""NO""}",,,i2c -z 2 -v 0x07 0x75 0x1932 0x10,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_0"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ISET_BUCK_RANGE_EXTEND"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""1"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1A00 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""OVP_ISET_BUCK_G2000"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x1A05 1,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_To_VDM"",""netname"":""PPVBUS_USB_PWR"",""state"":""TO_PP_EXT""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_to_5V"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""USB_POWER_ON"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""ON"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_1"",""delay"":""1000"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ACE_SRDY"",""record"":""NO""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_500MS_1"",""delay"":""500"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""PD_State_Check"",""record"":""NO""}",,,charge --brickid,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_3.8V"",""powertype"":""batt"",""record"":""NO""}",,,3800,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_2"",""delay"":""100"",""record"":""NO""}",,,,,,
,Tech:sendChargeCmd,,,{charge_cmd},,,"{""subsubtestname"": ""USB_ilimit_100mA"",""record"":""NO""}",,,charge --setma 100 --setmv 5000,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100ms_100mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:connectVBUSFeedback,,,,,,"{""subsubtestname"": ""PPVBUS_FB_CONNECT_5V"",""reference"": ""5000"",""record"":""NO""}",,,,,charge_cmd==charge_pass,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_5V_100mA"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_100mA"",""reference"": ""5000"",""record"":""NO""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""PD_Contract_Check"",""pattern"":""Min%s+Voltage%s+or%s+Power%s+(%w+)%s+mV"",""parametric"":""yes""}",,,vdm.show_tps_register_by_addr(0x34),,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_PROT_100mA"",""netname"":""PPVBUS_PROT"",""record"":""NO""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_100mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_1000_100mA"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X1000"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_100mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Tech:recordUSBCurr,,,"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_100mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=100*mv=5000"",""gain"": ""0.001""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_100_100mA"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X100"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_5"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""USB_ilimit_500mA"",""record"":""NO""}",,,charge --setma 500 --setmv 5000,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100ms_500mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_5V_500mA"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_500mA"",""reference"": ""5000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT500mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_500mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_500mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_500mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=500*mv=5000"",""gain"": ""0.01""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_500mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT_500mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_500mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_500mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_500mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_500mA""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100ms_1000mA_1"",""delay"":""100""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""USB_ilimit_1000mA""}",,,charge --setma 1000 --setmv 5000,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100ms_1000mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_5V_1000mA"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_1000mA"",""reference"": ""5000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_1000mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_1000mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_1000mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_1000mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=1000*mv=5000"",""gain"": ""0.01""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_1000mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT_1000mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_1000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_1000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_1000mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_1000mA""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_10_2100mA"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X10"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100ms_2100mA_1"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""USB_ilimit_2100mA"",""record"":""NO""}",,,charge --setma 2100 --setmv 5000,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100ms_2100mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_5V_2100mA"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_2100mA"",""reference"": ""5000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_2100mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_2100mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_2100mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_2100mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=2100*mv=5000"",""gain"": ""0.1""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_2100mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT_2100mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_2100mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_2100mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_2100mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_2100mA""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100ms_2400mA_1"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""USB_ilimit_2400mA"",""record"":""NO""}",,,charge --setma 2400 --setmv 5000,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100ms_2400mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_5V_2400mA"",""powertype"":""USB"",""record"":""NO""}",,,5000,,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_2400mA"",""reference"": ""5000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_2400mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_2400mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_2400mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_2400mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=2400*mv=5000"",""gain"": ""0.1""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100ms_3000mA_1"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""USB_ilimit_3000mA"",""record"":""NO""}",,,charge --setma 3000 --setmv 5000,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100ms_3000mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_5V_3000mA"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_3000mA"",""reference"": ""5000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_3000mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,(PPVBUS_USB_EMI),,,"{""subsubtestname"":""PPVBUS_USB_EMI_3000mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_3000mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_3000mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_3000mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=3000*mv=5000"",""gain"": ""0.1""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_3000mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT_3000mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_3000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_3000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_3000mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""PotomacRead_chg_buck_temp"",""pattern"": ""chg_buck_temp:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read chg_buck_temp,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""PotomacRead__mid_die_temp"",""pattern"": ""mid%_die%_temp%:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read mid_die_temp,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_3000mA""}",,,,,,
,Tech:calculateChargeDCR,,"(PPVBUS_USB_EMI),(PPVBUS_PROT),(vbus_curr)",,,,"{""subsubtestname"": ""USB_EMI_PROT_DCR_DEBUG"",""param1"": ""EMI""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VBUS_FB_DISCONNECT_5V"",""netname"":""PPVBUS_FB"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Tech:getCurrData,,[current_table],,,,"{""subsubtestname"": ""LV_Ibus_CAL"",""param1"": ""mv=5000"",""attribute"": ""5V_IBUS_CAL""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100ms_100mA_1"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_USB_ilimit_100mA"",""record"":""NO""}",,,charge --setma 100 --setmv 5000,,,
Calibration_IbusLimit_PDSink_CVT_CC_VBAT3V8_VBUS9V,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_5V"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_PWR_Dis"",""netname"":""PPVBUS_USB_PWR"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""CC_Disconn"",""netname"":""VDM_CC1"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Change_5V0_PDO_To_VDM_5V0"",""record"":""NO""}",,,vdm.change_tx_source_voltage(1*5000*3500*PP_5V_00),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""VDM_to_Source"",""record"":""NO""}",,,vdm.change_low_hearder(region0),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Change_VDM_PDO_TO_2"",""record"":""NO""}",,,vdm.change_source_pdo_count(2),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Disable_USB_cable"",""record"":""NO""}",,,vdm.tps_write_register_by_addr(0x32*PDO1: Max Voltage*0x02),,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_PP5V0_TO_5V"",""powertype"":""PP5V0"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PP5V_TO_VDM_5V0"",""netname"":""PP_5V0_VDM"",""state"":""CONNECT"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_9V"",""powertype"":""USB"",""record"":""NO""}",,,9000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_To_VDM"",""netname"":""PPVBUS_USB_PWR"",""state"":""TO_PP_EXT"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_1"",""delay"":""1000"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_2000MS_1"",""delay"":""2000"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ACE_SRDY"",""record"":""NO""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_500MS_1"",""delay"":""500"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""PD_State_Check"",""record"":""NO""}",,,charge --brickid,,,
,Tech:sendChargeCmd,,,{charge_cmd},,,"{""subsubtestname"": ""SET_USB_ilimit_100mA"",""record"":""NO""}",,,charge --setma 100 --setmv 9000,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_100mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_1000_100mA"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X1000"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_9V_100mA"",""powertype"":""USB"",""record"":""NO""}",,,9000,FA_ResetAll,,
,Common:connectVBUSFeedback,,,,,,"{""subsubtestname"": ""PPVBUS_FB_CONNECT_9V"",""reference"": ""9000"",""record"":""NO""}",,,,,charge_cmd==charge_pass,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_100mA"",""reference"": ""9000""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""PD_Contract_Check_9V"",""pattern"":""Min%s+Voltage%s+or%s+Power%s+(%w+)%s+mV"",""parametric"":""yes""}",,,vdm.show_tps_register_by_addr(0x34),,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Enable_HV_Charge"",""record"":""NO""}",,,i2c -z 2 -v 0x07 0x75 0x1932 0x30,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_100mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_100mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_100mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_100mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=100*mv=9000"",""gain"": ""0.001""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_100_500mA"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X100"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_500mA"",""record"":""NO""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x32,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_500mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_9V_500mA"",""powertype"":""USB"",""record"":""NO""}",,,9000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_500mA"",""reference"": ""9000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_500mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_500mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_500mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_500mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_500mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=500*mv=9000"",""gain"": ""0.01""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_500mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT_500mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_500mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_500mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_500mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_500mA""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_1000mA""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x4C,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1000mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_9V_1000mA"",""powertype"":""USB"",""record"":""NO""}",,,9000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_1000mA"",""reference"": ""9000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_1000mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_1000mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_1000mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_1000mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_1000mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=1000*mv=9000"",""gain"": ""0.01""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_1000mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT_1000mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_1000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_1000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_1000mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_1000mA""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_1500mA"",""record"":""NO""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x65,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1500mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_9V_1500mA"",""powertype"":""USB"",""record"":""NO""}",,,9000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_1500mA"",""reference"": ""9000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_1500mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_1500mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_1500mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_1500mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_1500mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=1500*mv=9000"",""gain"": ""0.01""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_10_1500mA"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X10"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_2000mA"",""record"":""NO""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x7E,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_2000mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_9V_2000mA"",""powertype"":""USB"",""record"":""NO""}",,,9000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_2000mA"",""reference"": ""9000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_2000mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_2000mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_2000mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_2000mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_2000mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=2000*mv=9000"",""gain"": ""0.1""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_2000mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT_2000mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_2000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_2000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_2000mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""PotomacRead_chg_buck_temp_1"",""pattern"": ""chg_buck_temp:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read chg_buck_temp,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""PotomacRead__mid_die_temp_1"",""pattern"": ""mid%_die%_temp%:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read mid_die_temp,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_2000mA""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVCC_MAIN_TO_Eload"",""netname"":""ELOAD_INPUT1_TO"",""state"":""PPVCC_MAIN""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Eload_ON_3000mA"",""record"":""NO""}",,,eload.enable(1),,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload1000mA_3000mA"",""record"":""NO""}",,,eload.set(1*cc*1000),,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_3000mA"",""record"":""NO""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0xB0,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_3000mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_9V_3000mA"",""powertype"":""USB"",""record"":""NO""}",,,9000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_3000mA"",""reference"": ""9000""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_USB_EMI_3000mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_3000mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,(PPVBUS_USB_EMI),,,"{""subsubtestname"":""PPVBUS_FB_3000mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_3000mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_3000mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_3000mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=3000*mv=9000"",""gain"": ""0.1""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_3000mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT3000mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:readEloadCurrent,,,(eload_val),,,"{""subsubtestname"": ""ELOAD_CURRENT3000mA"",""netname"":""ELOAD_CURRENT_SENSE1""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_3000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_3000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_3000mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""PotomacRead_chg_buck_temp_2"",""pattern"": ""chg_buck_temp:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read chg_buck_temp,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""PotomacRead__mid_die_temp_2"",""pattern"": ""mid%_die%_temp%:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read mid_die_temp,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),(eload_val),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_3000mA""}",,,,,,
,Tech:calculateChargeDCR,,"(PPVBUS_USB_EMI),(PPVBUS_PROT),(vbus_curr)",,,,"{""subsubtestname"": ""USB_EMI_PROT_DCR_DEBUG"",""param1"": ""EMI""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VBUS_FB_DISCONNECT_9V"",""netname"":""PPVBUS_FB"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload_0mA"",""record"":""NO""}",,,eload.set(1*cc*0),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Eload_OFF_0mA"",""record"":""NO""}",,,eload.disable(1),,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVCC_MAIN_Disconnect"",""netname"":""ELOAD_INPUT1_TO"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Tech:getCurrData,,[current_table],,,,"{""subsubtestname"": ""9V_Ibus_CAL"",""param1"": ""mv=9000"",""attribute"": ""9V_IBUS_CAL""}",,,,,,
Calibration_IbusLimit_PDSink_CVT_CC_VBAT3V8_VBUS12V,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_USB_ilimit_100mA"",""record"":""NO""}",,,charge --setma 100 --setmv 5000,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_1000_100mA"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X1000"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_100mA_1"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PP5V0_TO_VDM_BOARD_DISCONNECT"",""netname"":""PP_5V0_VDM"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""USB_POWER_OFF"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""OFF"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_PWR_Dis_1"",""netname"":""PPVBUS_USB_PWR"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""CC_Disconn"",""netname"":""VDM_CC1"",""state"":""DISCONNECT"",""record"":""NO""}",,,,,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Change_5V0_PDO_To_VDM_5V0"",""record"":""NO""}",,,vdm.change_tx_source_voltage(2*12000*3500*PP_HVE),,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_12V"",""powertype"":""USB"",""record"":""NO""}",,,12000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PP5V0_TO_VDM_BOARD"",""netname"":""PP_5V0_VDM"",""state"":""CONNECT"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_To_VDM"",""netname"":""PPVBUS_USB_PWR"",""state"":""TO_PP_EXT"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""USB_POWER_ON"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""ON"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_1"",""delay"":""1000"",""record"":""NO""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1"",""record"":""NO""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_2000MS_1"",""delay"":""2000"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ACE_SRDY"",""record"":""NO""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_500MS_1"",""delay"":""500"",""record"":""NO""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""PD_State_Check"",""record"":""NO""}",,,charge --brickid,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS"",""delay"":""100"",""record"":""NO""}",,,,,,
,Tech:sendChargeCmd,,,{charge_cmd},,,"{""subsubtestname"": ""SET_USB_ilimit100mA"",""record"":""NO""}",,,charge --setma 100 --setmv 12000,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_100mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_12V_100mA"",""powertype"":""USB"",""record"":""NO""}",,,12000,FA_ResetAll,,
,Common:connectVBUSFeedback,,,,,,"{""subsubtestname"": ""PPVBUS_FB_CONNECT_12V"",""reference"": ""12000"",""record"":""NO""}",,,,,charge_cmd==charge_pass,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_100mA"",""reference"": ""12000""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""PD_Contract_Check_12V"",""pattern"":""Min%s+Voltage%s+or%s+Power%s+(%w+)%s+mV"",""parametric"":""yes""}",,,vdm.show_tps_register_by_addr(0x34),,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Enable_HV_Charge"",""record"":""NO""}",,,i2c -z 2 -v 0x07 0x75 0x1932 0x30,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_100mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_100mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_100mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_100mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=100*mv=12000"",""gain"": ""0.001""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_100_1000mA"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X100"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_1000mA""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x4C,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1000mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_12V_1000mA"",""powertype"":""USB"",""record"":""NO""}",,,12000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_1000mA"",""reference"": ""12000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_1000mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_1000mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_1000mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_1000mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_1000mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=1000*mv=12000"",""gain"": ""0.01""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_1000mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT_1000mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_1000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_1000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_1000mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_1000mA""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_500mA""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x32,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_500mA"",""delay"":""100"",""record"":""NO""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_12V_500mA"",""powertype"":""USB"",""record"":""NO""}",,,12000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_500mA"",""reference"": ""12000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_500mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_500mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_500mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_500mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_500mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=500*mv=12000"",""gain"": ""0.01""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_500mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT_500mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_500mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_500mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_500mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_500mA""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_1500mA""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x65,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1500mA"",""delay"":""100""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_12V_1500mA"",""powertype"":""USB""}",,,12000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_1500mA"",""reference"": ""12000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_1500mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_1500mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_1500mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_1500mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_1500mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=1500*mv=12000"",""gain"": ""0.01""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_10_2000mA_15V"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X10"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVCC_MAIN_TO_Elaod1000mA"",""netname"":""ELOAD_INPUT1_TO"",""state"":""PPVCC_MAIN""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Eload_ON_1000mA""}",,,eload.enable(1),,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload_1000mA""}",,,eload.set(1*cc*1000),,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_2000mA""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x7E,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_2000mA"",""delay"":""100""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_12V_2000mA"",""powertype"":""USB"",""record"":""NO""}",,,12000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_2000mA"",""reference"": ""12000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_2000mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_2000mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_2000mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_2000mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_2000mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=2000*mv=12000"",""gain"": ""0.1""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_2000mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT_2000mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_2000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_2000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_2000mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""PotomacRead_chg_buck_temp_1"",""pattern"": ""chg_buck_temp:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read chg_buck_temp,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""PotomacRead__mid_die_temp_1"",""pattern"": ""mid%_die%_temp%:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read mid_die_temp,,,
,Common:readEloadCurrent,,,(eload_val),,,"{""subsubtestname"": ""ELOAD_CURRENT_2000mA"",""netname"":""ELOAD_CURRENT_SENSE1""}",,,,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),(eload_val),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_2000mA""}",,,,,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload_0mA""}",,,eload.set(1*cc*0),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Eload_Off_0mA""}",,,eload.disable(1),,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVCC_MAIN_To_Elaod_DISCONNECT"",""netname"":""ELOAD_INPUT1_TO"",""state"":""DISCONNECT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VBUS_FB_DISCONNECT"",""netname"":""PPVBUS_FB"",""state"":""DISCONNECT""}",,,,,,
Calibration_IbusLimit_PDSink_CVT_CC_VBAT3V8_VBUS15V,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_100mA_2"",""delay"":""100""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_USB_ilimit_100mA""}",,,charge --setma 100 --setmv 5000,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PP5V0_TO_VDM_BOARD_DISCONNECT"",""netname"":""PP_5V0_VDM"",""state"":""DISCONNECT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""USB_POWER_OFF"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""OFF""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_PWR_Dis"",""netname"":""PPVBUS_USB_PWR"",""state"":""DISCONNECT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""CC_Disconn"",""netname"":""VDM_CC1"",""state"":""DISCONNECT""}",,,,,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Change_5V0_PDO_To_VDM_5V0""}",,,vdm.change_tx_source_voltage(2*15000*3500*PP_HVE),,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_15V"",""powertype"":""USB"",""record"":""NO""}",,,15000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PP5V0_TO_VDM_BOARD"",""netname"":""PP_5V0_VDM"",""state"":""CONNECT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_To_VDM"",""netname"":""PPVBUS_USB_PWR"",""state"":""TO_PP_EXT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""USB_POWER_ON"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""ON""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_1"",""delay"":""1000""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_2000MS_1"",""delay"":""1000""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ACE_SRDY""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_500MS_1"",""delay"":""500""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""PD_Contract_Check_15V_1"",""pattern"":""Min%s+Voltage%s+or%s+Power%s+(%w+)%s+mV"",""parametric"":""yes"",""reference"": ""15000""}",,,vdm.show_tps_register_by_addr(0x34),,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""PD_State_Check""}",,,charge --brickid,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_"",""delay"":""100""}",,,,,,
,Tech:sendChargeCmd,,,{charge_cmd},,,"{""subsubtestname"": ""SET_USB_ilimit100mA_1"",""record"":""NO""}",,,charge --setma 100 --setmv 15000,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_100mA_3"",""delay"":""100""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_15V_100mA"",""powertype"":""USB"",""record"":""NO""}",,,15000,FA_ResetAll,,
,Common:connectVBUSFeedback,,,,,,"{""subsubtestname"": ""PPVBUS_FB_CONNECT_15V"",""reference"": ""15000"",""record"":""NO""}",,,,,charge_cmd==charge_pass,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_100mA_FB"",""delay"":""100""}",,,,,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_100mA"",""reference"": ""15000""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""PD_Contract_Check_15V"",""pattern"":""Min%s+Voltage%s+or%s+Power%s+(%w+)%s+mV"",""parametric"":""yes""}",,,vdm.show_tps_register_by_addr(0x34),,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Enable_HV_Charge""}",,,i2c -z 2 -v 0x07 0x75 0x1932 0x30,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_100mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_100mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_1000_100mA"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X1000"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_100mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_100mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=100*mv=15000"",""gain"": ""0.001""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_100_1000mA"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X100"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_1000mA""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x4C,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1000mA"",""delay"":""100""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_15V_1000mA"",""powertype"":""USB"",""record"":""NO""}",,,15000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_1000mA"",""reference"": ""15000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_1000mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_1000mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_1000mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_1000mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_1000mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=1000*mv=15000"",""gain"": ""0.01""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_1000mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT1000mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_1000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_1000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_1000mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_1000mA""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_500mA""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x32,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_500mA"",""delay"":""100""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_15V_500mA"",""powertype"":""USB"",""record"":""NO""}",,,15000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_500mA"",""reference"": ""15000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_500mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_500mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_500mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_500mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_500mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=500*mv=15000"",""gain"": ""0.01""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_500mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT500mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_500mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_500mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_500mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_500mA""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_1500mA""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x65,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1500mA"",""delay"":""100""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_15V_1500mA"",""powertype"":""USB"",""record"":""NO""}",,,15000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_1500mA"",""reference"": ""15000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_1500mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_1500mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_1500mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_1500mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_1500mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=1500*mv=15000"",""gain"": ""0.01""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_10_1500mA"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X10"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVCC_MAIN_To_Elaod"",""netname"":""ELOAD_INPUT1_TO"",""state"":""PPVCC_MAIN""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Eload_On_1000mA""}",,,eload.enable(1),,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload_1000mA""}",,,eload.set(1*cc*1000),,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_Eload1000mA"",""delay"":""100""}",,,,,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload_1500mA""}",,,eload.set(1*cc*1500),,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_2000mA""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x7E,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_2000mA"",""delay"":""100""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_15V_2000mA"",""powertype"":""USB"",""record"":""NO""}",,,15000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_2000mA"",""reference"": ""15000""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_2000mA"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_2000mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Ilimit_2000mA"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1523 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual_2000mA"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_2000mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=2000*mv=15000"",""gain"": ""0.1""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS_2000mA"",""netname"":""PPVCC_MAIN"",""unit"":""mV""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT2000mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:readEloadCurrent,,,(eload_val),,,"{""subsubtestname"": ""ELOAD_CURRENT2000mA"",""netname"":""ELOAD_CURRENT_SENSE1""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph0_2000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ibuck_ph1_2000mA"",""pattern"": ""ibuck_ph%d*:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read ibuck_ph1,,,
,Common:sendCmdAndParse,,,(vsys_lo),,,"{""subsubtestname"": ""vsys_lo_2000mA"",""pattern"": ""(%-?%d+.*%d*)%s+mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vsys_lo,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""PotomacRead_chg_buck_temp_1"",""pattern"": ""chg_buck_temp:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read chg_buck_temp,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""PotomacRead__mid_die_temp_1"",""pattern"": ""mid%_die%_temp%:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read mid_die_temp,,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG),(eload_val),[system_current],(vsys_lo),(vbus_curr),(PPVBUS_PROT)",,,,"{""subsubtestname"": ""Charger_efficiency_2000mA""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VBUS_FB_DISCONNECT_15V"",""netname"":""PPVBUS_FB"",""state"":""DISCONNECT""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_100mA_1"",""delay"":""100""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_USB_ilimit100mA_2""}",,,charge --setma 100 --setmv 15000,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_100mA"",""delay"":""100""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_USB_ilimit100mA""}",,,charge --setma 100 --setmv 5000,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_TO_5V"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Set_Eload_0mA""}",,,eload_set_1_cc_0,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Eload_OFF_0mA""}",,,eload_disable1,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVCC_MAIN_To_Eload_DISCONNECT"",""netname"":""ELOAD_INPUT1_TO"",""state"":""DISCONNECT""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_Back_to_4.3V_All_Voltage"",""powertype"":""batt"",""start"":""3800"",""stop"":""4300"",""step"":""80""}",,,,FA_ResetAll,,
BuckBoostEfficiency_VBAT4V35_PPVBUS_PROT_4V25,Common:relaySwitch,,,,,,"{""subsubtestname"":""VBUS_FB_DISCONNECT_5V"",""netname"":""PPVBUS_FB"",""state"":""DISCONNECT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""Disconnect_USB_power"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""OFF""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""CC_Disconn"",""netname"":""VDM_CC1"",""state"":""DISCONNECT""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1"",""delay"":""100""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""HV_Power_DISCONNECT_TO_VDM"",""netname"":""PP_5V0_VDM"",""state"":""DISCONNECT""}",,,,,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Change_5V0_To_EXT""}",,,vdm.change_tx_source_voltage(1*5000*3500*PP_HVE),,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Set_PDO2_TO_5V""}",,,vdm.change_tx_source_voltage(2*5000*3500*PP_HVE),,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_200MS_1"",""delay"":""200""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_EMI_VDM"",""netname"":""VDM_VBUS_TO_PPVBUS_USB_EMI"",""state"":""CONNECT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""USB_POWER_ON"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""ON""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_1"",""delay"":""1000""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_2"",""delay"":""1000""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ACE_SRDY_BUCK_BOOST""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_500MS_2"",""delay"":""500""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""PD_State_Check""}",,,charge --brickid,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_4V3"",""powertype"":""batt"",""record"":""NO""}",,,4300,FA_ResetAll,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""PPVBUS_POWER_5V_1"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_10"",""delay"":""100""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Disable_Potomac_buckboost""}",,,i2c -z 2 -v 7 0x75 0x1932 0x1c,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Turn_Off_BB""}",,,baseband --off,,mlb_type==MLB_B,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""WIFI_OFF""}",,,wifi --off,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""BT_OFF""}",,,bluetooth --off,,,
BuckBoostEfficiency_VBAT4V35_PPVBUS_PROT_4V25_1,Common:relaySwitch,,,,,,"{""subsubtestname"":""Eload_To_PPVCC_MAIN"",""netname"":""ELOAD_INPUT1_TO"",""state"":""PPVCC_MAIN""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Eload_Enable""}",,,eload.enable(1),,,
,Common:setEload,,,,,,"{""subsubtestname"":""SET_ELOAD_1.9A""}",,,eload.set(1*cc*1900),,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""SET_VBAT_4V35"",""powertype"":""batt"",""start"":""4300"",""stop"":""4350"",""step"":""80""}",,,,FA_ResetAll,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""PP_IBATT"",""netname"":""BATT_CURRENT_BIG"",""unit"": ""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_1000_1900mA_BUCKBOOST"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X1000"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_11"",""delay"":""1000""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"": ""VBUS_CURRENT"",""netname"":""USB_TARGET_CURRENT"",""gain"": ""0.001""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_10_1000mA_BUCKBOOST"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X10"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""VBUS_FB_Volt"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_SNS"",""netname"":""PPVCC_MAIN""}",,,,,,
,Common:readVoltage,,,(PPBATT_VCC),,,"{""subsubtestname"":""PPBATT_VCC_FB"",""netname"":""PPBATT_VCC"",""unit"":""mV""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""PPVBUS_POWER_5V1"",""powertype"":""USB"",""record"":""NO""}",,,5100,FA_ResetAll,,
,Tech:sendChargeCmd,,,{charge_cmd},,,"{""subsubtestname"": ""USB_ilimit_3000mA_5V"",""record"":""NO""}",,,charge --setma 3000 --setmv 5000,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ENTER_SUSPEND_MODE""}",,,i2c -z 2 -v 7 0x75 0x1932 0x18,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""PPVBUS_POWER_5V"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:connectVBUSFeedback,,,,,,"{""subsubtestname"": ""PPVBUS_FB_CONNECT_5V"",""reference"": ""5000"",""record"":""NO""}",,,,,charge_cmd==charge_pass,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS"",""reference"": ""5000""}",,,,,,
,Tech:setVbusByStep,,,,,,"{""subsubtestname"":""VBUS_LOOP_SET"",""powertype"":""USB"",""start"":""4500"",""stop"":""4200"",""step"":""10""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""VBUS_FB_Volt_5V"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Eload_Current_Bef""}",,,i2c -z 2 -d 7 0x75 0x1522 1,,,
,Common:sendCmdAndParse,,,(pmuadc_value),,,"{""subsubtestname"": ""ibuck_ph0_Suspend_Charge"",""pattern"": ""ibuck%_ph0%s*:%s*(%-?%d+.?%d*)%s*mA"",""parametric"": ""yes"",""return_val"": ""raw""}",,,pmuadc --sel potomac --read,,,
,Common:parseWithRegexString,,(pmuadc_value),,,,"{""subsubtestname"": ""ibuck_ph1_Suspend_Charge"",""pattern"": ""ibuck%_ph1%s*:%s*(%-?%d+.?%d*)%s*mA"",""parametric"": ""yes""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""SET_VBAT_4.35V"",""powertype"":""batt"",""record"":""NO""}",,,4350,FA_ResetAll,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""VBUS_FB_Volt_Suspend_Charge"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_10_1900mA_BUCKBOOST_1"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X10"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK""}",,,,,,
,Common:readVoltage,,,(USB_TARGET_CURRENT),,,"{""subsubtestname"": ""VBUS_CURRENT_Suspend_Charge"",""netname"":""USB_TARGET_CURRENT"",""gain"": ""0.1""}",,,,,,
,Common:readVoltage,,,(PPVBUS_PROT),,,"{""subsubtestname"":""PPVBUS_PROT_Suspend_Charge"",""netname"":""PPVBUS_PROT""}",,,,,,
,Common:readVoltage,,,(PPBATT_VCC),,,"{""subsubtestname"":""PPBATT_VCC_FB_Suspend_Charge"",""netname"":""PPBATT_VCC""}",,,,,,
,Common:readVoltage,,,(PPVCC_MAIN),,,"{""subsubtestname"":""PPVCC_MAIN_SNS_Suspend_Charge"",""netname"":""PPVCC_MAIN""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_SMALL),,,"{""subsubtestname"":""BATT_CURRENT_Suspend_Charge"",""netname"":""BATT_CURRENT_SMALL"",""unit"": ""mA""}",,,,,,
,Common:sendCmdAndParse,,,(potomac_vsys),,,"{""subsubtestname"": ""potomac_vsys_lo"",""pattern"": ""vsys%_lo%s*:%s*(%-?%d+.?%d*)%s*mV"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read,,,
,Tech:calculateChargeEfficiency,,"(potomac_vsys),(PPVBUS_PROT),(USB_TARGET_CURRENT),(BATT_CURRENT_BIG)",,,,"{""subsubtestname"":""Result"",""param1"":""eff""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Eload_Current_Aft""}",,,i2c -z 2 -d 7 0x75 0x1522 1,,,
,Common:setEload,,,,,,"{""subsubtestname"":""SET_CCELOAD_0A""}",,,eload.set(1*cc*0),,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""Eload_Disconnected"",""netname"":""ELOAD_INPUT1_TO"",""state"":""DISCONNECT""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""SET_VBAT_4.2V"",""powertype"":""batt""}",,,4200,FA_ResetAll,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""SET_VBUS_5V0"",""powertype"":""USB""}",,,5000,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Enable_HCCM_Mode""}",,,i2c -z 2 -v 7 0x75 0x1C19 0x00,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Charge_Out_Of_Suspend""}",,,i2c -z 2 -v 7 0x75 0x1932 0x10,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""IBAT_ICHG_L1_HCCM"",""netname"":""BATT_CURRENT_BIG"",""unit"": ""mA"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""SET_VBAT_4.3V"",""powertype"":""batt""}",,,4300,FA_ResetAll,,
BoostEfficiency_VBAT3V2_VBUS5V,Common:relaySwitch,,,,,,"{""subsubtestname"":""BATT_NTC_10K"",""netname"":""BATT_NTC"",""state"":""TO_10K_NORMAL""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VBUS_FB_DISCONNECT_5V"",""netname"":""PPVBUS_FB"",""state"":""DISCONNECT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""Disconnect_USB_power"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""OFF""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""CC_Disconn"",""netname"":""VDM_CC1"",""state"":""DISCONNECT""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1"",""delay"":""100""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PP5V0_TO_VDM_DISCONNECT"",""netname"":""PP_5V0_VDM"",""state"":""DISCONNECT""}",,,,,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Change_5V0_To_EXT""}",,,vdm.change_tx_source_voltage(1*5000*3500*PP_HVE),,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_200MS_1"",""delay"":""200""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_EMI_VDM"",""netname"":""VDM_VBUS_TO_PPVBUS_USB_EMI"",""state"":""CONNECT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""USB_POWER_ON"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""ON""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_1"",""delay"":""1000""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_2"",""delay"":""1000""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ACE_SRDY_BUCK_BOOST""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""PD_State_Check""}",,,charge --brickid,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_4V3_1"",""powertype"":""batt"",""record"":""NO""}",,,4300,FA_ResetAll,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""PPVBUS_POWER_5V_1"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_10"",""delay"":""100""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Disable_Potomac_buckboost""}",,,"ace --pick usbc --4cc SRYR --txdata ""0x00"" --rxdata 0",,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_3V2"",""powertype"":""batt"",""record"":""NO""}",,,3200,FA_ResetAll,,
,Common:readVoltage,,,(BATT_CURRENT_BIG_noload),,,"{""subsubtestname"":""BATT_CURRENT_without_Eload"",""netname"":""BATT_CURRENT_BIG"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""Eload_To_PPVCC_HIGH"",""netname"":""ELOAD_INPUT1_TO"",""state"":""PPVCC_HIGH""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Eload_Enable""}",,,eload.enable(1),,,
,Common:setEload,,,,,,"{""subsubtestname"":""SET_ELOAD_1A""}",,,eload.set(1*cc*1000),,,
,Common:readEloadCurrent,,,(ELOAD_CURRENT_SENSE1),,,"{""subsubtestname"": ""Eload_Current"",""netname"":""ELOAD_CURRENT_SENSE1""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_1000"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X1000"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"": ""Measure_IBUS"",""netname"":""USB_TARGET_CURRENT"",""gain"": ""0.001"",""abs"":""yes""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_1"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X1"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK""}",,,,,,
,Common:readVoltage,,,(PPVCC_HIGH),,,"{""subsubtestname"":""PPVCC_HIGH"",""netname"":""PPVCC_HIGH""}",,,,,,
,Common:readVoltage,,,(PPVCC_MAIN),,,"{""subsubtestname"":""PPVCC_MAIN"",""netname"":""PPVCC_MAIN""}",,,,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG_load),,,"{""subsubtestname"":""BATT_CURRENT_with_Eload"",""netname"":""BATT_CURRENT_BIG"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Tech:calculateChargeEfficiency,,"(BATT_CURRENT_BIG_noload),(PPVCC_HIGH),(PPVCC_MAIN),(BATT_CURRENT_BIG_load),(ELOAD_CURRENT_SENSE1)",,,,"{""subsubtestname"":""Efficiency"",""param1"":""eff2""}",,,,,,
,Common:setEload,,,,,,"{""subsubtestname"":""SET_CCELOAD_0A""}",,,eload.set(1*cc*0),,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""Eload_Disconnected"",""netname"":""ELOAD_INPUT1_TO"",""state"":""DISCONNECT""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_4V3_2"",""powertype"":""batt"",""record"":""NO""}",,,4300,FA_ResetAll,,
IbattLimit_Constant_I_VBAT3V9_VBUS15V,Common:relaySwitch,,,,,,"{""subsubtestname"":""VBUS_FB_DISCONNECT_1"",""netname"":""PPVBUS_FB"",""state"":""DISCONNECT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_DISCONNECT_1"",""netname"":""VDM_CC1"",""state"":""DISCONNECT""}",,,,,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Change_5V0_PDO_To_VDM_5V0""}",,,vdm.change_tx_source_voltage(1*5000*3500*PP_5V_00),,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Set_PDO2_To_15V""}",,,vdm.change_tx_source_voltage(2*15000*3500*PP_HVE),,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_200MS_2"",""delay"":""200""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PP5V0_TO_VDM_BOARD"",""netname"":""PP_5V0_VDM"",""state"":""CONNECT""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_LDO_PP_5V0_ON"",""powertype"":""PP5V0"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""VBUS_to_15V"",""powertype"":""USB"",""record"":""NO""}",,,15000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_To_VDM"",""netname"":""PPVBUS_USB_PWR"",""state"":""TO_PP_EXT""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_1"",""delay"":""1000""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1_1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_2"",""delay"":""1000""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ACE_SRDY""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS"",""delay"":""1000""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""PD_State_Check_1""}",,,charge --brickid,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_3.9V"",""powertype"":""batt"",""record"":""NO""}",,,3900,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_100mA"",""delay"":""100""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""USB_ilimit_100mA_5V""}",,,charge --setma 100 --setmv 5000,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1"",""delay"":""100""}",,,,,,
,Tech:sendChargeCmd,,,{charge_cmd},,,"{""subsubtestname"": ""USB_ilimit_2500mA"",""record"":""NO""}",,,charge --setma 2500 --setmv 15000,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Bluetooth_off""}",,,bluetooth --off,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Wifi_off""}",,,wifi --off,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Turn_Off_BB""}",,,baseband --off,,mlb_type==MLB_B,
,Common:connectVBUSFeedback,,,,,,"{""subsubtestname"": ""PPVBUS_FB_CONNECT"",""reference"": ""15000"",""record"":""NO""}",,,,,charge_cmd==charge_pass,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_2500mA"",""reference"": ""15000""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Charge_battlimit_5190mA""}",,,charge --battlimit 5190,,,
,Common:readVoltage,,,(BATT_CURRENT_BIG),,,"{""subsubtestname"":""BATT_CURRENT_5.19A"",""netname"":""BATT_CURRENT_BIG"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Reg_select_pmu""}",,,reg select pmu,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Reg_read_0x7E6E_Default""}",,,reg select pmu,,,
,Common:sendCmdAndParse,,,(PMU_VBAT),,,"{""subsubtestname"": ""PMU_VBAT"",""pattern"": ""ADC%s+Channel%s+vbat:%s+(.-)%s+mV"",""parametric"": ""yes""}",,,pmuadc --read vbat,,,
,Common:readVoltage,,,(PPBATT_VCC),,,"{""subsubtestname"":""PPBATT_VCC"",""netname"":""PPBATT_VCC"",""unit"":""mV""}",,,,,,
,Common:calculateVBATError,,"(PMU_VBAT),(PPBATT_VCC)",,,,"{""subsubtestname"": ""VBAT_ERROR"",""param1"": ""VBAT_ERROR""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Reg_write_0x7E6E_0x00""}",,,reg write 0x7E6E 0x00,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Reg_read_0x7E6E"",""pattern"": ""i0x7E6E%s*%=%>%s*0x%x(%x)"",""parametric"": ""yes""}",,,reg read 0x7E6E,,,
,Common:sendCmdAndParse,,,(PMU_VBAT),,,"{""subsubtestname"": ""PMU_VBAT_1"",""pattern"": ""ADC%s+Channel%s+vbat:%s+(.-)%s+mV"",""parametric"": ""yes""}",,,pmuadc --read vbat,,,
,Common:readVoltage,,,(PPBATT_VCC),,,"{""subsubtestname"":""PPBATT_VCC_1"",""netname"":""PPBATT_VCC"",""unit"":""mV""}",,,,,,
,Common:calculateVBATError,,"(PMU_VBAT),(PPBATT_VCC)",,,,"{""subsubtestname"": ""VBAT_ERROR_1"",""param1"": ""VBAT_ERROR""}",,,,,,
,Common:sendCmdAndParse,,,(PMU_IBAT_OUT),,,"{""subsubtestname"": ""PMU_IBAT_OUT_1"",""pattern"": ""ibat_out:%s*(.-)%s*mA"",""parametric"": ""yes""}",,,pmuadc --read ibat_out --avg 50,,,
,Common:calculateVBATError,,"(BATT_CURRENT_BIG),(PMU_IBAT_OUT)",,,,"{""subsubtestname"": ""IBAT_ERROR_1"",""param1"": ""IBAT_ERROR""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Reg_write_0x7E6E_Default""}",,,reg write 0x7E6E 0x01,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_SNS_5.19A_15V2A5"",""netname"":""BATT_SNS""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPBATT_VCC_FB_5.19A"",""netname"":""PPBATT_VCC""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Charge_battlimit_3708mA""}",,,charge --battlimit 3708,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_CURRENT_3.708A"",""netname"":""BATT_CURRENT_BIG"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_SNS_3.708A"",""netname"":""BATT_SNS""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPBATT_VCC_FB_3.708A"",""netname"":""PPBATT_VCC"",""unit"":""mV""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Charge_battlimit_2970mA""}",,,charge --battlimit 2970,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_CURRENT_2.970A"",""netname"":""BATT_CURRENT_BIG"",""fa_sof"":""YES""}",,,,FA_ResetAll,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_SNS_2.970A"",""netname"":""BATT_SNS""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPBATT_VCC_FB_2.970A"",""netname"":""PPBATT_VCC"",""unit"":""mV""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VBUS_FB_DISCONNECT"",""netname"":""PPVBUS_FB"",""state"":""DISCONNECT""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""VBUS_SET_5V"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""Disconnect_VBUS_power"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""OFF""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PP5V0_TO_VDM_DISCONNECT"",""netname"":""PP_5V0_VDM"",""state"":""DISCONNECT""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_200MS_1"",""delay"":""200""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""CC_Disconn"",""netname"":""VDM_CC1"",""state"":""DISCONNECT""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_3"",""delay"":""1000""}",,,,,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Change_5V0_To_EXT""}",,,vdm.change_tx_source_voltage(1*5000*3500*PP_HVE),,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Set_PDO2_TO_5V""}",,,vdm.change_tx_source_voltage(2*5000*3500*PP_HVE),,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""Connect_VBUS_power"",""netname"":""VBUS_OUTPUT_CTL"",""state"":""ON""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1_2"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_4"",""delay"":""1000""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ACE_SRDY_2""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_500MS_4"",""delay"":""500""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""PD_State_Check_2""}",,,charge --brickid,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""USB_ilimit_1000mA""}",,,charge --setma 1000 --force --setmv 5000,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""Charge_battlimit_50mA""}",,,charge --battlimit 50,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""Charge_battlimit_0mA""}",,,charge --battlimit 0,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""SET_VBAT_4.3V"",""powertype"":""batt"",""record"":""NO""}",,,4300,FA_ResetAll,,
Calibration_IbusLimit_PDSink_HCCM_CC_VBAT3V9_VBUS5V3A,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_DISCONNECT"",""netname"":""VDM_CC1"",""state"":""DISCONNECT""}",,,,,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""5V_To_VDM_EXT""}",,,vdm.change_tx_source_voltage(1*5000*3500*PP_HVE),,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""5V_To_VDM_EXT_2""}",,,vdm.change_tx_source_voltage(2*5000*3500*PP_HVE),,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""5V_To_VDM_EXT_3""}",,,vdm.change_tx_source_voltage(3*5000*3500*PP_HVE),,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""5V_To_VDM_EXT_4""}",,,vdm.change_tx_source_voltage(4*5000*3500*PP_HVE),,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""VBUS_SET_5V"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""Power_To_VDM"",""netname"":""PPVBUS_USB_PWR"",""state"":""TO_PP_EXT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VBUS_DUT"",""netname"":""VDM_VBUS_TO_PPVBUS_USB_EMI"",""state"":""CONNECT""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Charge_battlimit_6130mA""}",,,charge --battlimit 6130,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""BATT_NTC_10K"",""netname"":""BATT_NTC"",""state"":""TO_10K_NORMAL""}",,,,,,
,Common:setAmplification,,,,,,"{""subsubtestname"":""Set_GAIN_10_2100mA"",""netname"":""USB_TARGET_CURR_GAIN_SET"",""state"":""X10"",""netname2"":""USB_TARGET_CURR_GAIN_SET"",""state2"":""LOCK""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_500MS_3"",""delay"":""500""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_2000MS"",""delay"":""2000""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ACE_SRDY""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_to_3.9V"",""powertype"":""batt"",""record"":""NO""}",,,3900,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_0"",""delay"":""100""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Set_Vbus_limit_5V100mA_0"",""record"":""NO""}",,,charge --setma 100 --setmv 5000,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1"",""delay"":""100""}",,,,,,
,Tech:sendChargeCmd,,,{charge_cmd},,,"{""subsubtestname"": ""Set_Vbus_limit_5V3A"",""record"":""NO""}",,,charge --setma 3000 --setmv 5000,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_1"",""delay"":""1000""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_Vbus_5V"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS"",""delay"":""100""}",,,,,,
,Common:connectVBUSFeedback,,,,,,"{""subsubtestname"": ""PPVBUS_FB_Connect_5V"",""reference"": ""5000"",""record"":""NO""}",,,,,charge_cmd==charge_pass,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_Setting_5V"",""reference"": ""5000""}",,,,,,
Calibration_IbusLimit_PDSink_HCCM_CC_VBAT4V3_VBUS5V3A,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_4V3"",""powertype"":""batt""}",,,4300,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""VDM_Volt_Setting_5V"",""pattern"":""Min%s+Voltage%s+or%s+Power%s+(%w+)%s+mV"",""parametric"":""yes""}",,,vdm.show_tps_register_by_addr(0x34),,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Enter_HCCM_Mode""}",,,i2c -z 2 -v 0x07 0x75 0x1c19 0x00;i2c -z 2 -d 0x07 0x75 0x1524 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""VSET_HOST_4.5V""}",,,i2c -z 2 -v 0x07 0x75 0x1B4C 0x0A;i2c -z 2 -v 0x07 0x75 0x1B4D 0x00,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ICHG_HOST_5.74A""}",,,i2c -z 2 -v 0x07 0x75 0x1B4A 0x03;i2c -z 2 -v 0x07 0x75 0x1B4B 0x7A,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Assert_ACK_to_Potomac""}",,,i2c -z 2 -v 0x07 0x75 0x1C1A 0x01,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""CHECK_FLAG"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""7"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1C16 1,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100MS_1"",""delay"":""100""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual"",""pattern"":""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_VSET_Actual"",""patterns"":""Data:%s*0x(%x*).-Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x180A 1;i2c -z 2 -d 0x07 0x75 0x1809 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""CHECK_FLAG_1"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""7"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1C16 1,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_Current"",""netname"":""BATT_CURRENT_BIG"",""unit"": ""mA""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""Delay_100MS_2"",""delay"":""100""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""USB_Current_3000mA"",""netname"":""USB_TARGET_CURRENT"",""gain"": ""0.1""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Poto_Mid_die_temp"",""pattern"": ""mid%_die%_temp%:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read mid_die_temp,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Status_CV_LOOP_Combined"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""7"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1522 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Status_CC_LOOP_Combined"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""7"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1525 1,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_Volt"",""netname"":""PPVCC_MAIN""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPBATT_VCC_FB"",""netname"":""PPBATT_VCC"",""unit"":""mV""}",,,,,,
Calibration_IbusLimit_PDSink_HCCM_CC_VBAT4V3_VBUS12V3A,Common:relaySwitch,,,,,,"{""subsubtestname"":""CC_Disconn"",""netname"":""VDM_CC1"",""state"":""DISCONNECT""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Change_VDM_PDO_TO_4""}",,,vdm.change_source_pdo_count(2),,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Change_5V0_To_PP5V0""}",,,vdm.change_tx_source_voltage(1*5000*3500*PP_5V_00),,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Set_PDO2_TO_12V""}",,,vdm.change_tx_source_voltage(2*12000*3500*PP_HVE),,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_PP5V0_To_5V"",""powertype"":""PP5V0""}",,,5000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PP5V_To_VDM"",""netname"":""PP_5V0_VDM"",""state"":""CONNECT""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""VBUS_SET_12V"",""powertype"":""USB""}",,,12000,FA_ResetAll,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_to_3.9V"",""powertype"":""batt""}",,,3900,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1_Get_Contract"",""delay"":""100""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_2"",""delay"":""1000""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ACE_SRDY""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_500MS_2"",""delay"":""500""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""PD_State_Check_1""}",,,charge --brickid,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_2"",""delay"":""100""}",,,,,,
,Tech:sendChargeCmd,,,{charge_cmd},,,"{""subsubtestname"": ""Set_USB_ilimit_100mA_12V"",""record"":""NO""}",,,charge --setma 100 --setmv 12000,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_Get_Contract"",""delay"":""100""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""VDM_Volt_Setting_12V"",""pattern"":""Min%s+Voltage%s+or%s+Power%s+(%w+)%s+mV"",""parametric"":""yes""}",,,vdm.show_tps_register_by_addr(0x34),,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_3000mA_12V""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0xB0,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""BATT_SET_4V3"",""powertype"":""batt"",""record"":""NO""}",,,4300,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Enter_HCCM_Mode""}",,,i2c -z 2 -v 0x07 0x75 0x1c19 0x00;i2c -z 2 -d 0x07 0x75 0x1524 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""VSET_HOST_4.5V""}",,,i2c -z 2 -v 0x07 0x75 0x1B4C 0x0A;i2c -z 2 -v 0x07 0x75 0x1B4D 0x00,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ICHG_HOST_5.74A""}",,,i2c -z 2 -v 0x07 0x75 0x1B4A 0x03;i2c -z 2 -v 0x07 0x75 0x1B4B 0x7A,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""HV_CHARGE_ALLOW""}",,,i2c -z 2 -v 0x07 0x75 0x1932 0x30,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Assert_ACK_to_Potomac""}",,,i2c -z 2 -v 0x07 0x75 0x1C1A 0x01,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""CHECK_FLAG"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""7"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1C16 1,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVCC_MAIN_To_Elaod1"",""netname"":""ELOAD_INPUT1_TO"",""state"":""PPVCC_MAIN""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Enable_Eload1""}",,,eload.enable(1),,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload1_1000mA""}",,,eload.set(1*cc*1000),,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_200MS_1"",""delay"":""200""}",,,,,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload1_2000mA""}",,,eload.set(1*cc*2000),,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_200MS_2"",""delay"":""200""}",,,,,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload1_2900mA""}",,,eload.set(1*cc*2900),,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBUS_To_12V"",""powertype"":""USB"",""record"":""NO""}",,,12000,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100mS_4"",""delay"":""200""}",,,,,,
,Common:connectVBUSFeedback,,,,,,"{""subsubtestname"": ""PPVBUS_FB_Connect_12V"",""reference"": ""12000"",""record"":""NO""}",,,,,charge_cmd==charge_pass,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_4"",""delay"":""100""}",,,,,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""Check_VBUS_Setting_12V"",""reference"": ""12000""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_3000mA_12V"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_VSET_Actual"",""patterns"":""Data:%s*0x(%x*).-Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x180A 1;i2c -z 2 -d 0x07 0x75 0x1809 1,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_Volt"",""netname"":""PPVCC_MAIN""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPBATT_VCC_FB"",""netname"":""PPBATT_VCC"",""unit"":""mV""}",,,,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_3000mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=3000*mv=12000"",""gain"": ""0.1""}",,,,,,
,Tech:getCurrData,,[current_table],,,,"{""subsubtestname"": ""12V_Ibus_CAL"",""param1"": ""mv=12000"",""attribute"": ""12V_IBUS_CAL""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_THERMAL_STATUS"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""3"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1620 1,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_CURRENT"",""netname"":""BATT_CURRENT_BIG""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Poto_vcenter_temp0"",""pattern"": ""temp%d*:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vcenter_temp0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Poto_vcenter_temp1"",""pattern"": ""temp%d*:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vcenter_temp1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Poto_chg_buck_temp"",""pattern"": ""chg_buck_temp:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read chg_buck_temp,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Poto_Mid_die_temp"",""pattern"": ""mid%_die%_temp%:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read mid_die_temp,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Poto_lv_ldo_temp"",""pattern"": ""lv_ldo_temp:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read lv_ldo_temp,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Status_CV_LOOP_Combined"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""5"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1522 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Status_CC_LOOP_Combined"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""0"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1525 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""STA_IAVG_FLAG_CHECK"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1524 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""CHECK_FLAG_3"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""7"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1C16 1,,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload1_0mA""}",,,eload.set(1*cc*0),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Eload_Disable""}",,,eload.disable(1),,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVCC_MAIN_Disconnect_Eload"",""netname"":""ELOAD_INPUT1_TO"",""state"":""DISCONNECT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_FB_Disconnect"",""netname"":""PPVBUS_FB"",""state"":""DISCONNECT""}",,,,,,
Calibration_IbusLimit_PDSink_HCCM_CC_VBAT4V3_VBUS15V2A5,Common:relaySwitch,,,,,,"{""subsubtestname"":""CC_Disconn"",""netname"":""VDM_CC1"",""state"":""DISCONNECT""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Change_VDM_PDO_TO_4""}",,,vdm.change_source_pdo_count(2),,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Change_5V0_To_PP5V0""}",,,vdm.change_tx_source_voltage(1*5000*3500*PP_5V_00),,,
,Common:sendVDMCmd,,,,,,"{""subsubtestname"":""Set_PDO2_TO_15V""}",,,vdm.change_tx_source_voltage(2*15000*3500*PP_HVE),,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_PP5V0_To_5V"",""powertype"":""PP5V0"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PP5V_To_VDM"",""netname"":""PP_5V0_VDM"",""state"":""CONNECT""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""VBUS_SET_15V_1"",""powertype"":""USB"",""record"":""NO""}",,,15000,FA_ResetAll,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""Set_VBAT_to_3.9V"",""powertype"":""batt"",""record"":""NO""}",,,3900,FA_ResetAll,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_1_Get_Contract"",""delay"":""100""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""VDM_CC1_TO_ACE_CC1"",""netname"":""VDM_CC1"",""state"":""TO_ACE_CC1""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_1000MS_2"",""delay"":""1000""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ACE_SRDY""}",,,"ace --pick usbc --4cc SRDY --txdata ""0x00"" --rxdata 0",,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_500MS_2"",""delay"":""500""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"":""PD_State_Check_1""}",,,charge --brickid,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_2"",""delay"":""100""}",,,,,,
,Tech:sendChargeCmd,,,{charge_cmd},,,"{""subsubtestname"": ""Set_USB_ilimit_100mA_15V"",""record"":""NO""}",,,charge --setma 100 --setmv 15000,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_Get_Contract"",""delay"":""100""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""VDM_Volt_Setting_12V"",""pattern"":""Min%s+Voltage%s+or%s+Power%s+(%w+)%s+mV"",""parametric"":""yes""}",,,vdm.show_tps_register_by_addr(0x34),,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""BATT_SET_4V3"",""powertype"":""batt"",""record"":""NO""}",,,4300,FA_ResetAll,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Enter_HCCM_Mode""}",,,i2c -z 2 -v 0x07 0x75 0x1c19 0x00;i2c -z 2 -d 0x07 0x75 0x1524 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""VSET_HOST_4.5V""}",,,i2c -z 2 -v 0x07 0x75 0x1B4C 0x0A;i2c -z 2 -v 0x07 0x75 0x1B4D 0x00,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""ICHG_HOST_5.74A""}",,,i2c -z 2 -v 0x07 0x75 0x1B4A 0x03;i2c -z 2 -v 0x07 0x75 0x1B4B 0x7A,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Assert_ACK_to_Potomac""}",,,i2c -z 2 -v 0x07 0x75 0x1C1A 0x01,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""CHECK_FLAG"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""7"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1C16 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""SET_ISET_BUCK_2.5A""}",,,i2c -z 2 -v 0x07 0x75 0x1939 0x97,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""HV_CHARGE_ALLOW""}",,,i2c -z 2 -v 0x07 0x75 0x1932 0x30,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVCC_MAIN_To_Elaod1"",""netname"":""ELOAD_INPUT1_TO"",""state"":""PPVCC_MAIN""}",,,,,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Enable_Eload1""}",,,eload.enable(1),,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload1_1000mA""}",,,eload.set(1*cc*1000),,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_200MS_1"",""delay"":""200""}",,,,,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload1_2000mA""}",,,eload.set(1*cc*2000),,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_200MS_2"",""delay"":""200""}",,,,,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload1_3300mA""}",,,eload.set(1*cc*3300),,,
,Common:connectVBUSFeedback,,,,,,"{""subsubtestname"": ""PPVBUS_FB_CONNECT_15V"",""reference"": ""15000"",""record"":""NO""}",,,,,charge_cmd==charge_pass,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_100MS_3"",""delay"":""100""}",,,,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""VBUS_SET_15V_2"",""powertype"":""USB"",""record"":""NO""}",,,15000,FA_ResetAll,,
,Common:checkVBUS,,,,,,"{""subsubtestname"": ""ChecK_VBUS_15V"",""reference"": ""15000""}",,,,,,
,Common:delay,,,,,,"{""subsubtestname"":""DELAY_500MS_1"",""delay"":""500""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVBUS_FB_15V_2500mA"",""netname"":""PPVBUS_USB_EMI""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""CHECK_FLAG_2"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""7"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1C16 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_ISET_BUCK_Actual"",""pattern"": ""Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x193D 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_VSET_Actual"",""patterns"":""Data:%s*0x(%x*).-Data:%s*(0x%x*)""}",,,i2c -z 2 -d 0x07 0x75 0x180A 1;i2c -z 2 -d 0x07 0x75 0x1809 1,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPVCC_MAIN_Volt"",""netname"":""PPVCC_MAIN""}",,,,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""PPBATT_VCC_FB"",""netname"":""PPBATT_VCC""}",,,,,,
,Tech:recordUSBCurr,,[current_table],"(vbus_curr),[current_table]",,,"{""subsubtestname"": ""Ibus_2500mA"",""netname"":""USB_TARGET_CURRENT"",""param2"": ""ma=2500*mv=15000"",""gain"": ""0.1""}",,,,,,
,Tech:getCurrData,,[current_table],,,,"{""subsubtestname"": ""15V_Ibus_CAL"",""param1"": ""mv=15000"",""attribute"": ""15V_IBUS_CAL""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""READ_THERMAL_STATUS"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""3"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1620 1,,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_CURRENT"",""netname"":""BATT_CURRENT_BIG""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""POTO_VCENTER_TEMP0"",""pattern"": ""temp%d*:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vcenter_temp0,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""POTO_VCENTER_TEMP1"",""pattern"": ""temp%d*:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read vcenter_temp1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""POTO_CHG_BUCK_TEMP"",""pattern"": ""chg_buck_temp:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read chg_buck_temp,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""POTO_MID_DIE_TEMP"",""pattern"": ""mid%_die%_temp%:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read mid_die_temp,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""POTO_LV_LDO_TEMP"",""pattern"": ""lv_ldo_temp:%s*(.-)%s*C"",""parametric"": ""yes""}",,,pmuadc --sel potomac --read lv_ldo_temp,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Status_CV_LOOP_Combined"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""5"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1522 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Status_CC_LOOP_Combined"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""0"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1525 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""STA_IAVG_FLAG_CHECK"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""6"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1524 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""CHECK_FLAG_3"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""7"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1C16 1,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""EXIT_HCCM_mode""}",,,i2c -z 2 -v 0x07 0x75 0x1c19 0x01,,,
,Common:setEload,,,,,,"{""subsubtestname"":""Set_Eload1_0mA""}",,,eload.set(1*cc*0),,,
,Common:sendFixtureCmd,,,,,,"{""subsubtestname"":""Eload_Disable""}",,,eload.disable(1),,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVCC_MAIN_Disconnect_Eload"",""netname"":""ELOAD_INPUT1_TO"",""state"":""DISCONNECT""}",,,,,,
,Common:relaySwitch,,,,,,"{""subsubtestname"":""PPVBUS_USB_FB_Disconnect"",""netname"":""PPVBUS_FB"",""state"":""DISCONNECT""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""BackLight_Turn_Off""}",,,reg write 0x261d 0x00;reg write 0x3104 0xFF;bl -o,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""CHECK_FLAG_EXIT"",""pattern"": ""Data:%s*(0x%x*)"",""bit"": ""7"",""parametric"": ""yes""}",,,i2c -z 2 -d 0x07 0x75 0x1C16 1,,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""BATT_SET_4V3_1"",""powertype"":""batt"",""record"":""NO""}",,,4300,FA_ResetAll,,
,Common:powerSupply,,,,,,"{""subsubtestname"":""VBUS_SET_5V"",""powertype"":""USB"",""record"":""NO""}",,,5000,FA_ResetAll,,
,Common:readVoltage,,,,,,"{""subsubtestname"":""BATT_CURRENT_3000mA"",""netname"":""BATT_CURRENT_BIG"",""unit"":""mA""}",,,,,,
,Tech:writeCBAT,,[current_table],[cbat_compare],,,"{""subsubtestname"":""CBAT_WRITE""}",,,,,,
,Common:sendCmdAndParse,,,,,,"{""subsubtestname"": ""Read_Reg_0x6862"",""pattern"": ""0x6862%s*%=%>%s*(0x%x%x)""}",,,reg read 0x6862 1,,,
Syscfg_CBAT,Tech:readCBAT,,[cbat_compare],,,,"{""subsubtestname"":""SanityCheck_Readback_Compare""}",,,,,,
,Tech:checkCBAT,,,,,,"{""subsubtestname"":""SanityCheck_Version"",""attribute"": ""CBAT_VERSION_FCT"",""param1"": ""check_Version""}",,,,,,
,Tech:checkCBAT,,,,,,"{""subsubtestname"":""SanityCheck_Fixed_String"",""param1"": ""check_content""}",,,,,,
,Tech:checkCBAT,,,,,,"{""subsubtestname"":""SanityCheck_Fixed_Length"",""param1"": ""check_length""}",,,,,,
